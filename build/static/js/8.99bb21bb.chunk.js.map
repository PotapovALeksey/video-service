{"version":3,"sources":["components/CategoryLoaded/CategoryLoaded.js","components/CategoryLoaded/CategoryLoaded.module.css","components/Cards/Cards.js","components/Cards/Cards.module.css","pages/Category/Category.module.css","pages/Category/Category.js"],"names":["styles","display","margin","position","top","left","transform","CategoryLoader","load","className","style","wrap","css","sizeUnit","size","color","loading","module","exports","Cards","items","length","map","item","img","preview_images","PREVIEW_IMG","defaultImg","key","link","to","concatURL","WATCH","src","alt","name","titleLink","text","price","price_pics","INITIAL_PAGE","INITIAL_ENTRIES_PAGE","Category","inject","observer","state","page","entriesPage","onChange","target","setState","Number","value","scrollTop","window","scrollTo","behavior","handleClear","props","store","stores","data","clear","createPaginationItems","pagination","paginationItems","index","pagItem","current_page","backgroundColor","onClick","console","log","last_page","id","this","match","params","getSearchedData","handleGetCategoryPage","prevProps","prevState","toggleLoadedCategory","categoryID","categories","categoryIsLoaded","categoryIDPagination","searchData","isRender","title","controls","selectWrap","select","per_page","total","right","Component"],"mappings":"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","file":"static/js/8.99bb21bb.chunk.js","sourcesContent":["import React from 'react';\nimport { FadeLoader } from 'react-spinners';\n\nimport style from './CategoryLoaded.module.css';\n\nconst styles = {\n  display: 'block',\n  margin: '0 auto',\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%,-50%)',\n};\n\nconst CategoryLoader = ({ load }) => (\n  <div className={style.wrap}>\n    <FadeLoader\n      css={styles}\n      sizeUnit={'px'}\n      size={100}\n      color={'#36D7B7'}\n      loading={load}\n    />\n  </div>\n);\n\nexport default CategoryLoader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CategoryLoaded_wrap__2sZ6b\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { PREVIEW_IMG, WATCH, concatURL } from '../../middlewars/api';\nimport defaultImg from '../../const/defaultImage';\nimport styles from './Cards.module.css';\n\nconst Cards = ({ items }) => {\n  return (\n    items &&\n    items.length > 0 && (\n      <div className={styles.items}>\n        {items.map(item => {\n          const img = item.preview_images\n            ? PREVIEW_IMG + item.preview_images[0]\n            : defaultImg;\n\n          return (\n            <div className={styles.item} key={item.link}>\n              <NavLink to={concatURL(WATCH, item.link)} className={styles.link}>\n                <img src={img} alt={item.name} className={styles.img} />\n              </NavLink>\n              <NavLink\n                to={concatURL(WATCH, item.link)}\n                className={styles.titleLink}\n              >\n                {item.name}\n              </NavLink>\n              <p className={styles.text}>{item.preview_images.length} pics</p>\n              <p className={styles.price}>{item.price_pics}</p>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default Cards;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Cards_items__dRDHA\",\"item\":\"Cards_item__2Z3DE\",\"link\":\"Cards_link__kz4tF\",\"titleLink\":\"Cards_titleLink__2Q9DY\",\"img\":\"Cards_img__3A14C\",\"text\":\"Cards_text__2OQwF\",\"price\":\"Cards_price__3wxzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Category_title__3II3C\",\"controls\":\"Category_controls__FzVPh\",\"selectWrap\":\"Category_selectWrap__2Ljdj\",\"text\":\"Category_text__3QJY0\",\"select\":\"Category_select__1I9jc\",\"pagination\":\"Category_pagination__24cl3\",\"pagItem\":\"Category_pagItem__1gobZ\"};","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { throttle } from '../../utils/debounce';\n\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport LeftSidebar from '../../components/LeftSidebar/LeftSidebar';\nimport RightSidebar from '../../components/RightSidebar/RightSidebar';\nimport Loader from '../../components/Loader/Loader';\nimport CategoryLoaded from '../../components/CategoryLoaded/CategoryLoaded';\nimport Cards from '../../components/Cards/Cards';\n\nimport styles from './Category.module.css';\n\nconst INITIAL_PAGE = 1;\nconst INITIAL_ENTRIES_PAGE = 15;\n\n@inject('store')\n@observer\nclass Category extends Component {\n  state = {\n    page: INITIAL_PAGE,\n    entriesPage: INITIAL_ENTRIES_PAGE,\n  };\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n    const { page, entriesPage } = this.state;\n\n    await this.handleClear();\n    this.props.store.stores.data.getSearchedData();\n    this.props.store.stores.data.handleGetCategoryPage(id, page, entriesPage);\n    this.scrollTop();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { id } = this.props.match.params;\n    const { page, entriesPage } = this.state;\n\n    const {\n      toggleLoadedCategory,\n      handleGetCategoryPage,\n    } = this.props.store.stores.data;\n\n    if (prevProps.match.params.id !== id) {\n      this.setState({ page: INITIAL_PAGE, entriesPage: INITIAL_ENTRIES_PAGE });\n\n      toggleLoadedCategory();\n      await handleGetCategoryPage(id, page);\n\n      this.scrollTop();\n    }\n\n    if (\n      prevState.entriesPage !== this.state.entriesPage ||\n      prevState.page !== this.state.page\n    ) {\n      toggleLoadedCategory();\n      await handleGetCategoryPage(id, page, entriesPage);\n    }\n  }\n\n  onChange = ({ target }) =>\n    this.setState({ [target.name]: Number(target.value) });\n\n  scrollTop = () => window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\n\n  handleClear = () => this.props.store.stores.data.clear();\n\n  createPaginationItems = pagination => {\n    let paginationItems = [];\n    for (\n      let index = pagination.current_page;\n      index <= pagination.last_page;\n      index++\n    ) {\n      paginationItems = [\n        ...paginationItems,\n\n        <span\n          key={index}\n          className={styles.pagItem}\n          style={\n            pagination.current_page === index\n              ? { backgroundColor: '#134b83', color: '#fff' }\n              : null\n          }\n          onClick={() => {\n            console.log('index', index);\n            this.setState({\n              page: index,\n            });\n          }}\n        >\n          {index}\n        </span>,\n      ];\n    }\n\n    return paginationItems;\n  };\n\n  render() {\n    const {\n      categoryID,\n      categories,\n      categoryIsLoaded,\n      categoryIDPagination,\n      searchData,\n    } = this.props.store.stores.data;\n    console.log('categoryIDPagination', categoryIDPagination);\n    const { entriesPage } = this.state;\n\n    const isRender = categories && categoryID && categoryIDPagination;\n\n    return isRender ? (\n      <>\n        <Header />\n        <div className=\"wrap\">\n          <LeftSidebar categories={categories} />\n          <div className=\"content\">\n            <h1 className={styles.title}>Fencing and Stickfights</h1>\n            <div className={styles.controls}>\n              <div className={styles.left}>\n                <div className={styles.selectWrap}>\n                  <p className={styles.text}>Display per page</p>\n                  <select\n                    className={styles.select}\n                    onChange={this.onChange}\n                    value={entriesPage}\n                    name=\"entriesPage\"\n                  >\n                    <option>15</option>\n                    <option>30</option>\n                    <option>45</option>\n                    <option>60</option>\n                  </select>\n                </div>\n                <p>\n                  {categoryIDPagination.current_page *\n                    categoryIDPagination.per_page -\n                    categoryIDPagination.per_page +\n                    1}\n                  -\n                  {categoryIDPagination.current_page *\n                    categoryIDPagination.per_page}{' '}\n                  of {categoryIDPagination.total} results\n                </p>\n              </div>\n              <div className={styles.right}>\n                <div className={styles.selectWrap}>\n                  <p className={styles.text}>Display per page</p>\n                  <select className={styles.select} name=\"entriesPage\">\n                    <option>Relevance</option>\n                    <option>Name</option>\n                    <option>Price: ascending</option>\n                    <option>Price: descending</option>\n                  </select>\n                </div>\n                <div className={styles.pagination}>\n                  {this.createPaginationItems(categoryIDPagination)}\n                </div>\n              </div>\n            </div>\n            <Cards items={categoryID} />\n            <div className={styles.controls}>\n              <div className={styles.left}>\n                <p>\n                  {categoryIDPagination.current_page *\n                    categoryIDPagination.per_page -\n                    categoryIDPagination.per_page +\n                    1}\n                  -\n                  {categoryIDPagination.current_page *\n                    categoryIDPagination.per_page}{' '}\n                  of {categoryIDPagination.total} results\n                </p>\n              </div>\n              <div className={styles.right}>\n                <div className={styles.pagination}>\n                  {this.createPaginationItems(categoryIDPagination)}\n                </div>\n              </div>\n            </div>\n          </div>\n          <RightSidebar />\n        </div>\n        <Footer categories={categories} />\n        {categoryIsLoaded && <CategoryLoaded />}\n      </>\n    ) : (\n      <Loader load={!isRender} />\n    );\n  }\n}\nexport default Category;\n"],"sourceRoot":""}