{"version":3,"sources":["components/CategoryLoaded/CategoryLoaded.js","components/CategoryLoaded/CategoryLoaded.module.css","components/Cards/Cards.js","components/Cards/Cards.module.css","pages/Card/Card.module.css","pages/Card/Card.js"],"names":["styles","display","margin","position","top","left","transform","CategoryLoader","load","className","style","wrap","css","sizeUnit","size","color","loading","module","exports","Cards","items","length","map","item","img","preview_images","PREVIEW_IMG","defaultImg","key","link","to","concatURL","WATCH","src","alt","name","titleLink","text","price","price_pics","setImage","video","includes","Card","inject","observer","state","bigImg","onClickImage","setState","scrollTop","window","scrollTo","behavior","id","this","props","match","params","store","stores","data","handleGetVideoPage","clear","categoryID","prevProps","toggleLoadedVideo","videoByID","getCategoryID","console","log","category_link","image","categories","videoIsLoaded","isRender","cardWrap","title","imgList","imgWrap","onClick","right","desc","descr","other","controls","button","icon","faShoppingCart","otherCardWrap","bottomT","videos","Component"],"mappings":"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","file":"static/js/7.9713728e.chunk.js","sourcesContent":["import React from 'react';\nimport { FadeLoader } from 'react-spinners';\n\nimport style from './CategoryLoaded.module.css';\n\nconst styles = {\n  display: 'block',\n  margin: '0 auto',\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%,-50%)',\n};\n\nconst CategoryLoader = ({ load }) => (\n  <div className={style.wrap}>\n    <FadeLoader\n      css={styles}\n      sizeUnit={'px'}\n      size={100}\n      color={'#36D7B7'}\n      loading={load}\n    />\n  </div>\n);\n\nexport default CategoryLoader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CategoryLoaded_wrap__2sZ6b\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { PREVIEW_IMG, WATCH, concatURL } from '../../middlewars/api';\nimport defaultImg from '../../const/defaultImage';\nimport styles from './Cards.module.css';\n\nconst Cards = ({ items }) => {\n  return (\n    items &&\n    items.length > 0 && (\n      <div className={styles.items}>\n        {items.map(item => {\n          const img = item.preview_images\n            ? PREVIEW_IMG + item.preview_images[0]\n            : defaultImg;\n\n          return (\n            <div className={styles.item} key={item.link}>\n              <NavLink to={concatURL(WATCH, item.link)} className={styles.link}>\n                <img src={img} alt={item.name} className={styles.img} />\n              </NavLink>\n              <NavLink\n                to={concatURL(WATCH, item.link)}\n                className={styles.titleLink}\n              >\n                {item.name}\n              </NavLink>\n              <p className={styles.text}>{item.preview_images.length} pics</p>\n              <p className={styles.price}>{item.price_pics}</p>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default Cards;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Cards_items__dRDHA\",\"item\":\"Cards_item__2Z3DE\",\"link\":\"Cards_link__kz4tF\",\"titleLink\":\"Cards_titleLink__2Q9DY\",\"img\":\"Cards_img__3A14C\",\"text\":\"Cards_text__2OQwF\",\"price\":\"Cards_price__3wxzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Card_title__1Hm9p\",\"cardWrap\":\"Card_cardWrap__2wp6H\",\"bigImg\":\"Card_bigImg__2YquN\",\"left\":\"Card_left__3C4Xb\",\"right\":\"Card_right__2sPNt\",\"imgList\":\"Card_imgList__3MxEe\",\"imgWrap\":\"Card_imgWrap__UdPJg\",\"img\":\"Card_img__4WxeK\",\"desc\":\"Card_desc__O6SdC\",\"price\":\"Card_price__2CCyi\",\"controls\":\"Card_controls__3g_PO\",\"button\":\"Card_button__3Yz8E\",\"icon\":\"Card_icon__1KPdC\",\"bottomT\":\"Card_bottomT__fvmiy\"};","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { throttle } from '../../utils/debounce';\nimport { PREVIEW_IMG } from '../../middlewars/api';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\n\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport LeftSidebar from '../../components/LeftSidebar/LeftSidebar';\nimport RightSidebar from '../../components/RightSidebar/RightSidebar';\nimport Cards from '../../components/Cards/Cards';\nimport Loader from '../../components/Loader/Loader';\nimport PopularVideosSl from '../../components/PopularVideosSl/PopularVideosSl';\nimport CategoryLoaded from '../../components/CategoryLoaded/CategoryLoaded';\n\nimport styles from './Card.module.css';\n\nconst setImage = video =>\n  video.preview_images && video.preview_images[0].includes('http')\n    ? video.preview_images[0]\n    : PREVIEW_IMG + video.preview_images[0];\n\n@inject('store')\n@observer\nclass Card extends Component {\n  state = {\n    bigImg: '',\n  };\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n    const {\n      handleGetVideoPage,\n      clear,\n      categoryID,\n    } = this.props.store.stores.data;\n    await clear();\n\n    await handleGetVideoPage(id);\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { id } = this.props.match.params;\n    const {\n      toggleLoadedVideo,\n      handleGetVideoPage,\n      videoByID,\n      categoryID,\n      getCategoryID,\n    } = this.props.store.stores.data;\n\n    const page = 1;\n    const limit = 6;\n\n    if (!categoryID && videoByID) {\n      console.log('videoByID update', videoByID);\n      getCategoryID(videoByID.category_link, page, limit);\n    }\n\n    if (prevProps.match.params.id !== id) {\n      toggleLoadedVideo();\n      await handleGetVideoPage(id);\n\n      if (videoByID) {\n        this.setState({ bigImg: setImage(videoByID) });\n      }\n\n      this.scrollTop();\n    }\n  }\n\n  onClickImage = src => {\n    this.setState({ bigImg: src });\n  };\n\n  scrollTop = () => window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\n\n  render() {\n    const {\n      videoByID,\n      categories,\n      categoryID,\n      videoIsLoaded,\n    } = this.props.store.stores.data;\n    const { bigImg } = this.state;\n    const isRender = videoByID && categories && categoryID;\n\n    console.log('categoryID', categoryID);\n    let image;\n    if (isRender) image = setImage(videoByID);\n\n    return isRender ? (\n      <>\n        <Header />\n        <div className=\"wrap\">\n          <LeftSidebar categories={categories} />\n          <div className=\"content\">\n            <div className={styles.cardWrap}>\n              <div className={styles.left}>\n                <img\n                  className={styles.bigImg}\n                  src={bigImg || image}\n                  alt={videoByID.title}\n                />\n                <div className={styles.imgList}>\n                  {videoByID.preview_images.map(img => {\n                    const image = img.includes('http')\n                      ? img\n                      : PREVIEW_IMG + img;\n                    return (\n                      <div\n                        key={image}\n                        className={styles.imgWrap}\n                        onClick={() => this.onClickImage(image)}\n                      >\n                        <img className={styles.img} src={image} key={image} />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n              <div className={styles.right}>\n                <h1 className={styles.title}>{videoByID.title}</h1>\n                <p className={styles.desc}>{videoByID.descr}</p>\n                <div className={styles.other}>\n                  <p className={styles.length}>\n                    TOTAL PICS IN SET - {videoByID.preview_images.length} images\n                  </p>\n                  <p className={styles.price}>{videoByID.price_pics}</p>\n                  <div className={styles.controls}>\n                    <button className={styles.button}>\n                      Add to bascket\n                      <FontAwesomeIcon\n                        className={styles.icon}\n                        icon={faShoppingCart}\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={styles.otherCardWrap}>\n              <p className={styles.bottomT}>\n                Customers who bought this product also bought\n              </p>\n              <PopularVideosSl videos={categoryID} />\n            </div>\n          </div>\n          <RightSidebar />\n        </div>\n        <Footer categories={categories}/>\n        {videoIsLoaded && <CategoryLoaded />}\n      </>\n    ) : (\n      <Loader load={!isRender} />\n    );\n  }\n}\n\nexport default Card;\n"],"sourceRoot":""}