{"version":3,"sources":["components/CategoryLoaded/CategoryLoaded.js","components/CategoryLoaded/CategoryLoaded.module.css","components/Cards/Cards.js","components/Cards/Cards.module.css","pages/Category/Category.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/PayPall/Paypall.js","pages/Category/Category.js"],"names":["styles","display","margin","position","top","left","transform","CategoryLoader","load","className","style","wrap","css","sizeUnit","size","color","loading","module","exports","Cards","items","length","map","item","img","preview_images","PREVIEW_IMG","defaultImg","key","link","to","concatURL","WATCH","src","alt","name","titleLink","text","price","price_pics","_slicedToArray","arr","i","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","TypeError","Product","product","useState","paidFor","setPaidFor","error","setError","paypalRef","useRef","useEffect","window","paypal","Buttons","createOrder","data","actions","order","create","purchase_units","description","amount","currency_code","onApprove","a","capture","console","log","onError","render","current","message","ref","Paypal","INITIAL_PAGE","INITIAL_ENTRIES_PAGE","Category","inject","observer","state","page","entriesPage","onChangeEntriesPage","target","setState","Number","scrollTop","scrollTo","behavior","handleClear","props","store","stores","clear","createPaginationItems","pagination","paginationItems","index","pagItem","current_page","backgroundColor","onClick","last_page","id","this","match","params","handleGetCategoryPage","prevProps","prevState","loadedCategory","categoryID","categories","categoryIsLoaded","categoryIDPagination","searchData","isRender","Header","LeftSidebar","title","controls","selectWrap","select","onChange","from","total","right","RightSidebar","Footer","CategoryLoaded","Loader","Component"],"mappings":"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","file":"static/js/8.cdfec1ff.chunk.js","sourcesContent":["import React from 'react';\nimport { FadeLoader } from 'react-spinners';\n\nimport style from './CategoryLoaded.module.css';\n\nconst styles = {\n  display: 'block',\n  margin: '0 auto',\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%,-50%)',\n};\n\nconst CategoryLoader = ({ load }) => (\n  <div className={style.wrap}>\n    <FadeLoader\n      css={styles}\n      sizeUnit={'px'}\n      size={100}\n      color={'#36D7B7'}\n      loading={load}\n    />\n  </div>\n);\n\nexport default CategoryLoader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CategoryLoaded_wrap__2sZ6b\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { PREVIEW_IMG, WATCH, concatURL } from '../../middlewars/api';\nimport defaultImg from '../../const/defaultImage';\nimport styles from './Cards.module.css';\n\nconst Cards = ({ items }) => {\n  return (\n    items &&\n    items.length > 0 && (\n      <div className={styles.items}>\n        {items.map(item => {\n          const img = item.preview_images\n            ? PREVIEW_IMG + item.preview_images[0]\n            : defaultImg;\n\n          return (\n            <div className={styles.item} key={item.link}>\n              <NavLink to={concatURL(WATCH, item.link)} className={styles.link}>\n                <img src={img} alt={item.name} className={styles.img} />\n              </NavLink>\n              <NavLink\n                to={concatURL(WATCH, item.link)}\n                className={styles.titleLink}\n              >\n                {item.name}\n              </NavLink>\n              <p className={styles.text}>{item.preview_images.length} pics</p>\n              <p className={styles.price}>{item.price_pics}</p>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default Cards;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Cards_items__dRDHA\",\"item\":\"Cards_item__2Z3DE\",\"link\":\"Cards_link__kz4tF\",\"titleLink\":\"Cards_titleLink__2Q9DY\",\"img\":\"Cards_img__3A14C\",\"text\":\"Cards_text__2OQwF\",\"price\":\"Cards_price__3wxzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Category_title__3II3C\",\"controls\":\"Category_controls__FzVPh\",\"selectWrap\":\"Category_selectWrap__2Ljdj\",\"text\":\"Category_text__3QJY0\",\"select\":\"Category_select__1I9jc\",\"pagination\":\"Category_pagination__24cl3\",\"pagItem\":\"Category_pagItem__1gobZ\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","\nimport React, { useState, useRef, useEffect } from 'react';\n\nfunction Product({ product }) {\n  const [paidFor, setPaidFor] = useState(false);\n  const [error, setError] = useState(null);\n  const paypalRef = useRef();\n\n  useEffect(() => {\n    window.paypal\n      .Buttons({\n        createOrder: (data, actions) => {\n          return actions.order.create({\n            purchase_units: [\n              {\n                description: product.description,\n                amount: {\n                  currency_code: 'USD',\n                  value: product.price,\n                },\n              },\n            ],\n          });\n        },\n        onApprove: async (data, actions) => {\n          const order = await actions.order.capture();\n          setPaidFor(true);\n          console.log(order);\n        },\n        onError: err => {\n          setError(err);\n          console.error(err);\n        },\n      })\n      .render(paypalRef.current);\n  }, [product.description, product.price]);\n\n  if (paidFor) {\n    return (\n      <div>\n        <h1>Congrats, you just bought {product.name}!</h1>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {error && <div>Uh oh, an error occurred! {error.message}</div>}\n      <h1>\n        {product.description} for ${product.price}\n      </h1>\n      <div ref={paypalRef} />\n    </div>\n  );\n}\n\nfunction Paypal() {\n  const product = {\n    price: 777.77,\n    name: 'comfy chair',\n    description: 'fancy chair, like new',\n  };\n\n  return (\n    <div className=\"App\">\n      <Product product={product} />\n    </div>\n  );\n}\n\nexport default Paypal;\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\n\nimport Paypal from '../../components/PayPall/Paypall';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport LeftSidebar from '../../components/LeftSidebar/LeftSidebar';\nimport RightSidebar from '../../components/RightSidebar/RightSidebar';\nimport Loader from '../../components/Loader/Loader';\nimport CategoryLoaded from '../../components/CategoryLoaded/CategoryLoaded';\nimport Cards from '../../components/Cards/Cards';\n\nimport styles from './Category.module.css';\n\nconst INITIAL_PAGE = 1;\nconst INITIAL_ENTRIES_PAGE = 15;\n\n@inject('store')\n@observer\nclass Category extends Component {\n  state = {\n    page: INITIAL_PAGE,\n    entriesPage: INITIAL_ENTRIES_PAGE,\n  };\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n    const { page, entriesPage } = this.state;\n\n    await this.handleClear();\n    this.props.store.stores.data.handleGetCategoryPage(id, page, entriesPage);\n    this.scrollTop();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { id } = this.props.match.params;\n    const { page, entriesPage } = this.state;\n\n    const {\n      loadedCategory,\n      handleGetCategoryPage,\n    } = this.props.store.stores.data;\n\n    if (prevProps.match.params.id !== id) {\n      this.setState({ page: INITIAL_PAGE, entriesPage: INITIAL_ENTRIES_PAGE });\n\n      await loadedCategory();\n      await handleGetCategoryPage(id, page, INITIAL_ENTRIES_PAGE);\n\n      this.scrollTop();\n    } else if (\n      prevState.entriesPage !== this.state.entriesPage ||\n      prevState.page !== this.state.page\n    ) {\n      await loadedCategory();\n      await handleGetCategoryPage(id, page, entriesPage);\n    }\n  }\n\n  onChangeEntriesPage = ({ target }) => {\n    this.setState({ [target.name]: Number(target.value), page: INITIAL_PAGE });\n  };\n\n  scrollTop = () => window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\n\n  handleClear = () => this.props.store.stores.data.clear();\n\n  createPaginationItems = pagination => {\n    let paginationItems = [];\n    for (let index = 1; index <= pagination.last_page; index++) {\n      paginationItems = [\n        ...paginationItems,\n\n        <span\n          key={index}\n          className={styles.pagItem}\n          style={\n            pagination.current_page === index\n              ? { backgroundColor: '#134b83', color: '#fff' }\n              : null\n          }\n          onClick={() => {\n            console.log('index', index);\n            this.setState({\n              page: index,\n            });\n          }}\n        >\n          {index}\n        </span>,\n      ];\n    }\n\n    return paginationItems;\n  };\n\n  render() {\n    const {\n      categoryID,\n      categories,\n      categoryIsLoaded,\n      categoryIDPagination,\n      searchData,\n    } = this.props.store.stores.data;\n    console.log('categoryIDPagination', categoryIDPagination);\n    const { entriesPage } = this.state;\n\n    const isRender = categories && categoryID && categoryIDPagination;\n\n    return isRender ? (\n      <>\n        <Header />\n        <div className=\"wrap\">\n          <LeftSidebar categories={categories} />\n          <div className=\"content\">\n            <Paypal />\n            <h1 className={styles.title}>Fencing and Stickfights</h1>\n            <div className={styles.controls}>\n              <div className={styles.left}>\n                <div className={styles.selectWrap}>\n                  <p className={styles.text}>Display per page</p>\n                  <select\n                    className={styles.select}\n                    onChange={this.onChangeEntriesPage}\n                    value={entriesPage}\n                    name=\"entriesPage\"\n                  >\n                    <option>15</option>\n                    <option>30</option>\n                    <option>45</option>\n                    <option>60</option>\n                  </select>\n                </div>\n                <p>\n                  {categoryIDPagination.from}-{categoryIDPagination.to + ' '}\n                  of {categoryIDPagination.total} results\n                </p>\n              </div>\n              <div className={styles.right}>\n                <div className={styles.selectWrap}>\n                  <p className={styles.text}>Display per page</p>\n                  <select className={styles.select} name=\"entriesPage\">\n                    <option>Relevance</option>\n                    <option>Name</option>\n                    <option>Price: ascending</option>\n                    <option>Price: descending</option>\n                  </select>\n                </div>\n                <div className={styles.pagination}>\n                  {this.createPaginationItems(categoryIDPagination)}\n                </div>\n              </div>\n            </div>\n            <Cards items={categoryID} />\n            <div className={styles.controls}>\n              <div className={styles.left}>\n                <p>\n                  {categoryIDPagination.from}-{categoryIDPagination.to + ' '}\n                  of {categoryIDPagination.total} results\n                </p>\n              </div>\n              <div className={styles.right}>\n                <div className={styles.pagination}>\n                  {this.createPaginationItems(categoryIDPagination)}\n                </div>\n              </div>\n            </div>\n          </div>\n          <RightSidebar />\n        </div>\n        <Footer categories={categories} />\n        {categoryIsLoaded && <CategoryLoaded />}\n      </>\n    ) : (\n      <Loader load={!isRender} />\n    );\n  }\n}\nexport default Category;\n"],"sourceRoot":""}