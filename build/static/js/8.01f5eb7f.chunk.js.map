{"version":3,"sources":["components/Cards/Cards.js","components/Cards/Cards.module.css","pages/Card/Card.module.css","pages/Card/Card.js"],"names":["Cards","items","length","className","styles","map","item","img","preview_images","PREVIEW_IMG","defaultImg","key","link","to","concatURL","WATCH","src","alt","name","titleLink","text","price","price_pics","module","exports","setImage","video","includes","Card","inject","observer","state","bigImg","onClickImage","setState","scrollTop","window","scrollTo","left","top","behavior","id","this","props","match","params","store","stores","data","handleGetVideoPage","clear","categoryID","prevProps","toggleLoadedVideo","videoByID","getCategoryID","console","log","category_link","image","categories","isRender","cardWrap","title","imgList","imgWrap","onClick","right","desc","descr","other","controls","button","icon","faShoppingCart","otherCardWrap","bottomT","load","Component"],"mappings":"8JAAA,8DAqCeA,IA/BD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACf,OACEA,GACAA,EAAMC,OAAS,GACb,yBAAKC,UAAWC,IAAOH,OACpBA,EAAMI,IAAI,SAAAC,GACT,IAAMC,EAAMD,EAAKE,eACbC,IAAcH,EAAKE,eAAe,GAClCE,IAEJ,OACE,yBAAKP,UAAWC,IAAOE,KAAMK,IAAKL,EAAKM,MACrC,kBAAC,IAAD,CAASC,GAAIC,YAAUC,IAAOT,EAAKM,MAAOT,UAAWC,IAAOQ,MAC1D,yBAAKI,IAAKT,EAAKU,IAAKX,EAAKY,KAAMf,UAAWC,IAAOG,OAEnD,kBAAC,IAAD,CACEM,GAAIC,YAAUC,IAAOT,EAAKM,MAC1BT,UAAWC,IAAOe,WAEjBb,EAAKY,MAER,uBAAGf,UAAWC,IAAOgB,MAAOd,EAAKE,eAAeN,OAAhD,SACA,uBAAGC,UAAWC,IAAOiB,OAAQf,EAAKgB,kB,oBC3BhDC,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,KAAO,oBAAoB,UAAY,yBAAyB,IAAM,mBAAmB,KAAO,oBAAoB,MAAQ,uB,oBCAtMD,EAAOC,QAAU,CAAC,MAAQ,oBAAoB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,MAAQ,oBAAoB,QAAU,sBAAsB,QAAU,sBAAsB,IAAM,kBAAkB,KAAO,mBAAmB,MAAQ,oBAAoB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,QAAU,wB,8OCchZC,EAAW,SAAAC,GAAK,OACpBA,EAAMlB,gBAAkBkB,EAAMlB,eAAe,GAAGmB,SAAS,QACrDD,EAAMlB,eAAe,GACrBC,IAAciB,EAAMlB,eAAe,IAInCoB,EAFLC,YAAO,Q,GACPC,Y,6MAECC,MAAQ,CACNC,OAAQ,I,EA6CVC,aAAe,SAAAjB,GACb,EAAKkB,SAAS,CAAEF,OAAQhB,K,EAG1BmB,UAAY,kBAAMC,OAAOC,SAAS,CAAEC,KAAM,EAAGC,IAAK,EAAGC,SAAU,Y,8MA7CrDC,EAAOC,KAAKC,MAAMC,MAAMC,OAAxBJ,G,EAKJC,KAAKC,MAAMG,MAAMC,OAAOC,KAH1BC,E,EAAAA,mBACAC,E,EAAAA,M,EACAC,W,SAEID,I,uBAEAD,EAAmBR,G,qLAGFW,G,qFACfX,EAAOC,KAAKC,MAAMC,MAAMC,OAAxBJ,G,EAOJC,KAAKC,MAAMG,MAAMC,OAAOC,KAL1BK,E,EAAAA,kBACAJ,E,EAAAA,mBACAK,E,EAAAA,UACAH,E,EAAAA,WACAI,E,EAAAA,cAGW,EACC,GAETJ,GAAcG,IACjBE,QAAQC,IAAI,mBAAoBH,GAChCC,EAAcD,EAAUI,cALb,EACC,IAOVN,EAAUR,MAAMC,OAAOJ,KAAOA,E,wBAChCY,I,SACMJ,EAAmBR,G,OAErBa,GACFZ,KAAKR,SAAS,CAAEF,OAAQP,EAAS6B,KAGnCZ,KAAKP,Y,qIAUC,IAOJwB,EAPG,SACuCjB,KAAKC,MAAMG,MAAMC,OAAOC,KAA9DM,EADD,EACCA,UAAWM,EADZ,EACYA,WAAYT,EADxB,EACwBA,WACvBnB,EAAWU,KAAKX,MAAhBC,OACF6B,EAAWP,GAAaM,EAM9B,OAJAJ,QAAQC,IAAI,aAAcN,GAInBU,EACL,oCACIF,EAAQlC,EAAS6B,GACnB,kBAAC,IAAD,MACA,yBAAKnD,UAAU,QACb,kBAAC,IAAD,CAAayD,WAAYA,IACzB,yBAAKzD,UAAU,WACb,yBAAKA,UAAWC,IAAO0D,UACrB,yBAAK3D,UAAWC,IAAOkC,MACrB,yBACEnC,UAAWC,IAAO4B,OAClBhB,IAAKgB,GAAU2B,EACf1C,IAAKqC,EAAUS,QAEjB,yBAAK5D,UAAWC,IAAO4D,SACpBV,EAAU9C,eAAeH,IAAI,SAAAE,GAC5B,IAAMoD,EAAQpD,EAAIoB,SAAS,QACvBpB,EACAE,IAAcF,EAClB,OACE,yBACEI,IAAKgD,EACLxD,UAAWC,IAAO6D,QAClBC,QAAS,kBAAM,EAAKjC,aAAa0B,KAEjC,yBAAKxD,UAAWC,IAAOG,IAAKS,IAAK2C,EAAOhD,IAAKgD,SAMvD,yBAAKxD,UAAWC,IAAO+D,OACrB,wBAAIhE,UAAWC,IAAO2D,OAAQT,EAAUS,OACxC,uBAAG5D,UAAWC,IAAOgE,MAAOd,EAAUe,OACtC,yBAAKlE,UAAWC,IAAOkE,OACrB,uBAAGnE,UAAWC,IAAOF,QAArB,uBACuBoD,EAAU9C,eAAeN,OADhD,WAGA,uBAAGC,UAAWC,IAAOiB,OAAQiC,EAAUhC,YACvC,yBAAKnB,UAAWC,IAAOmE,UACrB,4BAAQpE,UAAWC,IAAOoE,QAA1B,iBAEE,kBAAC,IAAD,CACErE,UAAWC,IAAOqE,KAClBA,KAAMC,WAOlB,yBAAKvE,UAAWC,IAAOuE,eACrB,uBAAGxE,UAAWC,IAAOwE,SAArB,iDAGA,kBAAC,IAAD,CAAO3E,MAAOkD,MAGlB,kBAAC,IAAD,OAEF,kBAAC,IAAD,OAGF,kBAAC,IAAD,CAAQ0B,MAAOhB,Q,GA7HFiB,e,MAkIJlD","file":"static/js/8.01f5eb7f.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { PREVIEW_IMG, WATCH, concatURL } from '../../middlewars/api';\nimport defaultImg from '../../const/defaultImage';\nimport styles from './Cards.module.css';\n\nconst Cards = ({ items }) => {\n  return (\n    items &&\n    items.length > 0 && (\n      <div className={styles.items}>\n        {items.map(item => {\n          const img = item.preview_images\n            ? PREVIEW_IMG + item.preview_images[0]\n            : defaultImg;\n\n          return (\n            <div className={styles.item} key={item.link}>\n              <NavLink to={concatURL(WATCH, item.link)} className={styles.link}>\n                <img src={img} alt={item.name} className={styles.img} />\n              </NavLink>\n              <NavLink\n                to={concatURL(WATCH, item.link)}\n                className={styles.titleLink}\n              >\n                {item.name}\n              </NavLink>\n              <p className={styles.text}>{item.preview_images.length} pics</p>\n              <p className={styles.price}>{item.price_pics}</p>\n            </div>\n          );\n        })}\n      </div>\n    )\n  );\n};\n\nexport default Cards;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Cards_items__dRDHA\",\"item\":\"Cards_item__2Z3DE\",\"link\":\"Cards_link__kz4tF\",\"titleLink\":\"Cards_titleLink__2Q9DY\",\"img\":\"Cards_img__3A14C\",\"text\":\"Cards_text__2OQwF\",\"price\":\"Cards_price__3wxzV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Card_title__1Hm9p\",\"cardWrap\":\"Card_cardWrap__2wp6H\",\"bigImg\":\"Card_bigImg__2YquN\",\"left\":\"Card_left__3C4Xb\",\"right\":\"Card_right__2sPNt\",\"imgList\":\"Card_imgList__3MxEe\",\"imgWrap\":\"Card_imgWrap__UdPJg\",\"img\":\"Card_img__4WxeK\",\"desc\":\"Card_desc__O6SdC\",\"price\":\"Card_price__2CCyi\",\"controls\":\"Card_controls__3g_PO\",\"button\":\"Card_button__3Yz8E\",\"icon\":\"Card_icon__1KPdC\",\"bottomT\":\"Card_bottomT__fvmiy\"};","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { throttle } from '../../utils/debounce';\nimport { PREVIEW_IMG } from '../../middlewars/api';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport LeftSidebar from '../../components/LeftSidebar/LeftSidebar';\nimport RightSidebar from '../../components/RightSidebar/RightSidebar';\nimport Cards from '../../components/Cards/Cards';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\nimport Loader from '../../components/Loader/Loader';\n\nimport styles from './Card.module.css';\n\nconst setImage = video =>\n  video.preview_images && video.preview_images[0].includes('http')\n    ? video.preview_images[0]\n    : PREVIEW_IMG + video.preview_images[0];\n\n@inject('store')\n@observer\nclass Card extends Component {\n  state = {\n    bigImg: '',\n  };\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n    const {\n      handleGetVideoPage,\n      clear,\n      categoryID,\n    } = this.props.store.stores.data;\n    await clear();\n\n    await handleGetVideoPage(id);\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { id } = this.props.match.params;\n    const {\n      toggleLoadedVideo,\n      handleGetVideoPage,\n      videoByID,\n      categoryID,\n      getCategoryID,\n    } = this.props.store.stores.data;\n\n    const page = 1;\n    const limit = 6;\n\n    if (!categoryID && videoByID) {\n      console.log('videoByID update', videoByID);\n      getCategoryID(videoByID.category_link, page, limit);\n    }\n\n    if (prevProps.match.params.id !== id) {\n      toggleLoadedVideo();\n      await handleGetVideoPage(id);\n\n      if (videoByID) {\n        this.setState({ bigImg: setImage(videoByID) });\n      }\n\n      this.scrollTop();\n    }\n  }\n\n  onClickImage = src => {\n    this.setState({ bigImg: src });\n  };\n\n  scrollTop = () => window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\n\n  render() {\n    const { videoByID, categories, categoryID } = this.props.store.stores.data;\n    const { bigImg } = this.state;\n    const isRender = videoByID && categories;\n\n    console.log('categoryID', categoryID);\n\n    let image;\n\n    return isRender ? (\n      <>\n        {(image = setImage(videoByID))}\n        <Header />\n        <div className=\"wrap\">\n          <LeftSidebar categories={categories} />\n          <div className=\"content\">\n            <div className={styles.cardWrap}>\n              <div className={styles.left}>\n                <img\n                  className={styles.bigImg}\n                  src={bigImg || image}\n                  alt={videoByID.title}\n                />\n                <div className={styles.imgList}>\n                  {videoByID.preview_images.map(img => {\n                    const image = img.includes('http')\n                      ? img\n                      : PREVIEW_IMG + img;\n                    return (\n                      <div\n                        key={image}\n                        className={styles.imgWrap}\n                        onClick={() => this.onClickImage(image)}\n                      >\n                        <img className={styles.img} src={image} key={image} />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n              <div className={styles.right}>\n                <h1 className={styles.title}>{videoByID.title}</h1>\n                <p className={styles.desc}>{videoByID.descr}</p>\n                <div className={styles.other}>\n                  <p className={styles.length}>\n                    TOTAL PICS IN SET - {videoByID.preview_images.length} images\n                  </p>\n                  <p className={styles.price}>{videoByID.price_pics}</p>\n                  <div className={styles.controls}>\n                    <button className={styles.button}>\n                      Add to bascket\n                      <FontAwesomeIcon\n                        className={styles.icon}\n                        icon={faShoppingCart}\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={styles.otherCardWrap}>\n              <p className={styles.bottomT}>\n                Customers who bought this product also bought\n              </p>\n              <Cards items={categoryID} />\n            </div>\n          </div>\n          <RightSidebar />\n        </div>\n        <Footer />\n      </>\n    ) : (\n      <Loader load={!isRender} />\n    );\n  }\n}\n\nexport default Card;\n"],"sourceRoot":""}