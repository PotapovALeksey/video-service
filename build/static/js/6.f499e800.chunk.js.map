{"version":3,"sources":["components/SharedComponents/ButtonLink/ButtonLink.js","components/SharedComponents/ViewsAndComments/ViewsAndComments.js","components/SharedComponents/ButtonLink/ButtonLink.module.css","components/SharedComponents/ViewsAndComments/ViewsAndComments.module.css","components/VideosList/VideosList.js","components/VideosList/VideosList.module.css","components/CategoryLoaded/CategoryLoaded.js","components/CategoryLoaded/CategoryLoaded.module.css","pages/Category/Category.module.css","utils/debounce.js","pages/Category/Category.js"],"names":["ButtonLink","label","link","to","className","styles","button","ViewsAndComments","views","comments","iconWrap","icon","faEye","faComments","module","exports","iterator","VideosList","listRef","createRef","handleScroll","props","onScroll","current","window","addEventListener","this","removeEventListener","videos","title","buttonLabel","buttonLink","wrap","top","list","ref","length","map","video","xl","md","sm","xs","item","key","img","altImg","name","like","likes_count","duration","imgTitle","comments_count","Component","display","margin","position","left","transform","CategoryLoader","load","style","css","sizeUnit","size","color","loading","throttle","func","limit","inThrottle","args","arguments","context","apply","setTimeout","INITIAL_PAGE","Category","inject","observer","state","page","incrementPage","setState","handleClear","store","stores","data","clear","handleGetAllData","category","handleGetCategoryPage","handleAddLoading","a","id","match","params","getCategoryAddLoading","throthleLoadMore","prevProps","toggleLoadedCategory","getCategoryID","topCategories","categories","promotedVideo","topVideos","latestVideos","categoryVideos","popularVideos","categoryIsLoaded","view","isOpenedSidebar","toggleSidebar","openModal","closeModal","isOpenedModal","isRender","Header","Modal","onClose","LeftSidebar","content","CategoryLoaded","loadMore","onClick","RightSidebar","promoted","Footer","populars","latests","popularCategories","Loader"],"mappings":"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","file":"static/js/6.f499e800.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './ButtonLink.module.css';\n\nconst ButtonLink = ({ label, link }) => (\n  <NavLink to={link} className={styles.button}>\n    {label}\n  </NavLink>\n);\n\nexport default ButtonLink;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faComments, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport styles from \"./ViewsAndComments.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ViewsAndComments = ({ views, comments }) => (\n  <>\n    <span className={`${\"miniText\"} ${styles.views} ${styles.iconWrap}`}>\n      <FontAwesomeIcon className={styles.icon} icon={faEye} />\n      {views}\n    </span>\n    <span className={`${\"miniText\"} ${styles.iconWrap}`}>\n      <FontAwesomeIcon className={styles.icon} icon={faComments} />\n      {comments}\n    </span>\n  </>\n);\nViewsAndComments.propTypes = {\n  views: PropTypes.number,\n  comments: PropTypes.number\n};\nexport default ViewsAndComments;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonLink_button__3oQ7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"views\":\"ViewsAndComments_views__mtUaX\",\"icon\":\"ViewsAndComments_icon__qaDwm\",\"iconWrap\":\"ViewsAndComments_iconWrap__bGp-a\"};","import React, { Component, createRef } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport VideoImage from '../SharedComponents/VideoImage/VideoImage';\nimport ViewsAndComments from '../SharedComponents/ViewsAndComments/ViewsAndComments';\nimport ButtonLink from '../SharedComponents/ButtonLink/ButtonLink';\nimport styles from './VideosList.module.css';\nimport img from '../../assets/img';\n\nlet iterator = 0;\n\nexport default class VideosList extends Component {\n  listRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll = () => {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.listRef.current);\n    }\n  };\n\n  render() {\n    const { videos, title, buttonLabel, buttonLink } = this.props;\n\n    return (\n      <div className={styles.wrap}>\n        <div className={styles.top}>\n          <h3 className={styles.title}>{title}</h3>\n          {buttonLink && <ButtonLink label={buttonLabel} link={buttonLink} />}\n        </div>\n        <div className={styles.list} ref={this.listRef}>\n          {videos && videos.length !== 0 && (\n            <Row>\n              {videos.map(video => (\n                <Col\n                  xl={3}\n                  md={4}\n                  sm={6}\n                  xs={6}\n                  className={styles.item}\n                  key={video.link + ++iterator}\n                >\n                  <VideoImage\n                    img={img}\n                    link={`/watch/${video.link}`}\n                    altImg={video.name}\n                    like={video.likes_count}\n                    duration={video.duration}\n                  />\n                  <NavLink\n                    className={`imgTitleB ${styles.imgTitle}`}\n                    to={`/watch/${video.link}`}\n                  >\n                    {video.name}\n                  </NavLink>\n                  <ViewsAndComments\n                    comments={video.comments_count}\n                    views={video.views}\n                  />\n                </Col>\n              ))}\n            </Row>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nVideosList.propTypes = {\n  videos: PropTypes.arrayOf(\n    PropTypes.shape({\n      link: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      created_at: PropTypes.string.isRequired,\n      likes_count: PropTypes.number.isRequired,\n      duration: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  title: PropTypes.string.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"VideosList_title__zjBE4\",\"top\":\"VideosList_top__2jMBt\",\"imgTitle\":\"VideosList_imgTitle__39gXs\",\"list\":\"VideosList_list__2Jc4G\",\"item\":\"VideosList_item__MS8iv\"};","import React from 'react';\nimport { FadeLoader } from 'react-spinners';\n\nimport style from './CategoryLoaded.module.css';\n\nconst styles = {\n  display: 'block',\n  margin: '0 auto',\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%,-50%)',\n};\n\nconst CategoryLoader = ({ load }) => (\n  <div className={style.wrap}>\n    <FadeLoader\n      css={styles}\n      sizeUnit={'px'}\n      size={100}\n      color={'#36D7B7'}\n      loading={load}\n    />\n  </div>\n);\n\nexport default CategoryLoader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CategoryLoaded_wrap__2sZ6b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Category_content__3w1OF\",\"loadMore\":\"Category_loadMore__1nmAW\"};","const debounce = (func, delay) => {\n  let inDebounce;\n  return function() {\n    const context = this;\n    const args = arguments;\n    clearTimeout(inDebounce);\n    inDebounce = setTimeout(() => func.apply(context, args), delay);\n  };\n};\n\nconst throttle = (func, limit) => {\n  let inThrottle;\n  return function() {\n    const args = arguments;\n    const context = this;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n};\n\nexport { debounce, throttle };\n","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { throttle } from '../../utils/debounce';\nimport VideosList from '../../components/VideosList/VideosList';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport LeftSidebar from '../../components/LeftSidebar/LeftSidebar';\nimport RightSidebar from '../../components/RightSidebar/RightSidebar';\nimport Loader from '../../components/Loader/Loader';\nimport Modal from '../../components/Modal/Modal';\nimport CategoryLoaded from '../../components/CategoryLoaded/CategoryLoaded';\n\nimport styles from './Category.module.css';\n\nconst INITIAL_PAGE = 1;\n\n@inject('store')\n@observer\nclass Category extends Component {\n  state = {\n    page: INITIAL_PAGE,\n  };\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n\n    await this.handleClear();\n    this.handleGetAllData(id);\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { id } = this.props.match.params;\n    if (prevProps.match.params.id !== id) {\n      this.setState({ page: INITIAL_PAGE });\n      const { page } = this.state;\n      this.props.store.stores.data.toggleLoadedCategory();\n      await this.props.store.stores.data.getCategoryID(id, page);\n      this.incrementPage();\n    }\n  }\n\n  incrementPage = () => this.setState({ page: this.state.page + 1 });\n\n  handleClear = () => this.props.store.stores.data.clear();\n\n  handleGetAllData = category =>\n    this.props.store.stores.data.handleGetCategoryPage(category);\n\n  handleAddLoading = async () => {\n    const { id } = this.props.match.params;\n    const { page } = this.state;\n    await this.props.store.stores.data.getCategoryAddLoading(id, page);\n    this.incrementPage();\n  };\n\n  // onScroll = element => {\n  //   const { top, bottom, height } = element.getBoundingClientRect();\n  //   const positiveTop = Math.abs(top);\n  //   const load = window.innerHeight + positiveTop + 100 > height;\n\n  //   // if (load) {\n  //   //   this.handleAddLoading();\n  //   // }\n  // };\n\n  throthleLoadMore = throttle(this.handleAddLoading, 1000);\n\n  render() {\n    const {\n      topCategories,\n      categories,\n      promotedVideo,\n      topVideos,\n      latestVideos,\n      categoryVideos,\n      popularVideos,\n      categoryIsLoaded,\n    } = this.props.store.stores.data;\n\n    const {\n      isOpenedSidebar,\n      toggleSidebar,\n      openModal,\n      closeModal,\n      isOpenedModal,\n    } = this.props.store.stores.view;\n\n    const isRender =\n      topCategories &&\n      categories &&\n      promotedVideo &&\n      topVideos &&\n      latestVideos &&\n      (categoryVideos && categoryVideos.length !== 0) &&\n      popularVideos;\n\n    const title = this.props.match.params.id;\n\n    return isRender ? (\n      <>\n        <Header toggleSidebar={toggleSidebar} openModal={openModal} />\n        {isOpenedModal && <Modal onClose={closeModal} />}\n        <div className=\"wrap\">\n          <LeftSidebar\n            topCategories={topCategories}\n            categories={categories}\n            isOpenedSidebar={isOpenedSidebar}\n          />\n          <div className={styles.content}>\n            <VideosList\n              videos={categoryVideos}\n              title={title}\n              // onScroll={this.debounceOnScroll}\n            />\n            {categoryIsLoaded && <CategoryLoaded />}\n\n            <button className={styles.loadMore} onClick={this.throthleLoadMore}>\n              Load more\n            </button>\n          </div>\n          <RightSidebar\n            promoted={promotedVideo}\n            latestVideos={latestVideos}\n            topVideos={topVideos}\n          />\n        </div>\n        <Footer\n          populars={popularVideos}\n          latests={latestVideos}\n          categories={categories}\n          popularCategories={topCategories}\n        />\n      </>\n    ) : (\n      <Loader load={!isRender} />\n    );\n  }\n}\nexport default Category;\n"],"sourceRoot":""}